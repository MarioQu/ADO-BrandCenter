<#assign slick_css                = "/documents/d/mobilityado/slick" >
<#assign slick_theme                = "/documents/d/mobilityado/slick-theme" >
<#assign slick_js                = "/documents/d/mobilityado/slick-min" >
<#assign left_slide                = "/documents/d/mobilityado/prev-arrow" >
<#assign next_slide                = "/documents/d/mobilityado/next-arrow" >


<link rel="stylesheet" type="text/css" href="${slick_css}"/>
<link rel="stylesheet" type="text/css" href="${slick_theme}"/>
<script type="text/javascript" src="${slick_js}"></script>


<#assign article_id                = randomNamespace >


<div class="principal-city_${article_id} mt-3">
    <div class="bkg_completo"></div>

    <div class="container_slide">
        <div class="row principal-row">
            <div class="content row">
                <div class="col-md-12 text-center">
                    <h3 class="titles1 fpurple">${ImagenBanner.titulo.getData()}</h3>
                    <p class="ptxt text-center fblack">${ImagenBanner.descripcion.getData()}</p>
                </div>
                
                <div class="col-12">    
                    <div id="box_slide" class="slider_${article_id}">
                        <#assign counter=0>
                        <#if CardItem.getSiblings()?has_content>
                            <#list CardItem.getSiblings() as cur_city>
                                <#assign counter++>
                                    <#if cur_city.url_img_click.getData() !="">
                                        <div class="element swiper-slide" style="border: 0px solid #fff;">
                                    <#else>
                                        <div class="element swiper-slide">
                                    </#if>
                            
                                    <#if cur_city.url_img_click.getData() !="">
                                        <div class="image img_btn" onclick="window.open(' ${cur_city.url_img_click.getData()} ', '_self');" style="background-image: url( ${cur_city.Imagen3od1.getData()} );">
                                    <#else>
                                        <div class="image" style="background-image: url( ${cur_city.Imagen3od1.getData()} );">
                                    </#if>
                                    </div>
                                </div>
                            </#list>
                        </#if>
                    </div>
                </div>
            </div>


            <#if (ImagenIzquierda.getData())?? && ImagenIzquierda.getData() !="">
                <div class="image-float image-float-left d-none d-md-block" style="background-image: url(${ImagenIzquierda.getData()});">
                </div>
            </#if>
            <#if (ImagenDerecha.getData())?? && ImagenDerecha.getData() !="">
                <div class="image-float image-float-right d-none d-md-block" style="background-image: url(${ImagenDerecha.getData()});">
                </div>
            </#if>


        </div>
    </div>
</div>


<script>
    $(".slider_${article_id}").slick({
        <#if (counter >= 4) >
            slidesToShow: 4,
            dots: true,
        <#else>
            slidesToShow: 3,
        </#if>
        <#if (counter <= 3) >
            prevArrow: false,
            nextArrow: false,
            dots: false,
        </#if>
            infinite:true,
            slidesToScroll: 1,
            responsive: [
            {
                breakpoint: 1200,
                settings: {
                    slidesToShow: 3,
                }
            },
            {
                breakpoint: 1000,
                settings: {
                    slidesToShow: 2,
                    dots: true,
                    prevArrow: false,
                    nextArrow: false,
                }
            },
            {
                breakpoint: 670,
                settings: {
                    slidesToShow: 1,
                    dots: true,
                    prevArrow: false,
                    nextArrow: false,
                }
            }
        ]
    });
</script>


<style>
    .principal-city_${article_id} h3{
        font-size: 32px;
        font-weight: 700;
    }
    .container_slide {
        margin-left: auto;
        margin-right: auto;
        padding-left: calc(24px* 0.5);
        padding-right: calc(24px* 0.5);
        width: 90%;
        max-width: 1140px;
    }
    .slick-track {
        display: flex;
        padding: 40px 0px;
        box-sizing: border-box;
    }
    .principal-city_${article_id} #box_slide .element{
        height: auto;
        width: 100px;
        color: #fff;
        border-radius: 15px;
        margin: 0px 10px;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-pack: center;
        -ms-flex-align: center;
        background-color: #fff;
        color: #000;
        flex-flow: column wrap;
        /* overflow: hidden; */
        border: 1px solid #E3E3E3;
        position: relative;
    }

    .principal-city_${article_id} #box_slide .slick-disabled {
        opacity : 0; 
        pointer-events:none;
    }

    .slick-slider {
        max-width: 1140px;
        margin: 0 auto 3% auto;
    }

    .principal-row {
        position: relative;
    }

    .principal-row .image-float {
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        width: 175px;
        height: 175px;
        transition: all 0.7s ease-in-out;
        position: absolute;
    }

    .principal-row .image-float-left {
        left: -100px;
        top: 200px;
        z-index: 2;
    }

    .principal-row .image-float-right {
        right: -50px;
        top: -20px;
        z-index: 2;
    }

    .principal-row .content {    
        width: 100%;
        color: #fff;
        z-index: 3;
        margin: 5% 1%;
    }

    

    .image {
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        width: 100%;
        height: 250px;
        position: relative;
        border-radius: 10px 10px 0px 0px;
        z-index: 2;
    }


    .botones-slider {
        height: 100px;
        width: 100%;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .carrusel .slick-list{
        padding-bottom: 50px!important;
        padding-left:10px!important;
    }
    .carrusel .slick-dots li button {
        font-size: 0;
        line-height: 0;
        display: block;
        width: 20px;
        height: 20px;
        padding: 5px;
        cursor: pointer;
        color: #612066;
        border: 0;
        outline: 0;
        background: 0 0;
    }

    .carrusel .slick-dots li button:before {
        width: 14px;
        height: 14px;
        border: 1px solid var(--Black);
        border-color: 1px solid var(--Black);
        background-color: #612066;
        border-radius: 50%;
    }
    .slick-dots li.slick-active button:before {
        opacity: 1;
        color: #612066;
    }
    .slick-dots li button:before {
        font-size: 55px;
    }

    .slider_${article_id} .slick-prev, .botones-slider .prev_${article_id} {
        background: url( ${left_slide} ) no-repeat;
        background-size: 40px;
        border-radius: 30%;
        left: 39%;
        width: 40px;
        height: 40px;
        top: initial;
        bottom: -55px;
        z-index: 2;
    }
    .slider_${article_id} .slick-next, .botones-slider .next_${article_id} {
        background: url( ${next_slide} ) no-repeat;
        background-size: 40px;
        border-radius: 30%;
        right: 39%;
        width: 40px;
        height: 40px;
        top: initial;
        bottom: -55px;
        z-index: 2;
    }
    .carrusel .slick-dots {
        bottom: 10px;
        height: 1px;
    }

    .carrusel .box{
        width:210px;
        height:300px;
        background: #FFFFFF;
        border-radius: 8px;
        margin:0 23px;
        border: 1px solid #E1E3E9;
    
    }
    
    
    .slider_${article_id} .element:hover {
        transform: translate(0, -10px);
        box-shadow: -1px 10px 10px 0px rgba(128,128,128,0.75);
        -webkit-box-shadow: -1px 10px 10px 0px rgba(128,128,128,0.75);
        -moz-box-shadow: -1px 10px 10px 0px rgba(128,128,128,0.75);
    }


    <#if (ImagenBanner.TipoDeFondo.getData())?? && ImagenBanner.TipoDeFondo.getData() !="">
        <#if ImagenBanner.TipoDeFondo.getData() == "complet" >
            .principal-city_${article_id} .bkg_completo{
                display: block;
                position: absolute;
                top: 0px;
                left: 0px;
                width: 100%;
                height: 50%;
                z-index: 1;
                
                <#if (ImagenBanner.getData())?? && ImagenBanner.getData() != "">
                    background: url(${ImagenBanner.getData()});
                <#else>
                    background: #E11F2A;
                </#if>
                background-repeat: no-repeat;
                background-size: cover;
            }
        </#if>
    </#if>


    <#if (ImagenBanner.TipoDeFondo.getData())?? && ImagenBanner.TipoDeFondo.getData() !="">
        <#if ImagenBanner.TipoDeFondo.getData() == "column" >
        .principal-city_${article_id} .principal-row .background-image {
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;

            <#if (ImagenBanner.getData())?? && ImagenBanner.getData() != "">
                background: url(${ImagenBanner.getData()});
            <#else>
                background: #E11F2A;
            </#if>
            background-repeat: no-repeat;
            background-size: cover;
            width: 100%;
            height: 500px;
            border-radius: 25px;
            position: absolute;
            z-index: 1;
        }
        </#if>
    </#if>



 <#-- comentamos estos estilos para cambiarlos por las otras flechas
    .botones-slider .prev_${article_id},
    .botones-slider .next_${article_id} {
        display: contents !important;
    }

    .prev_${article_id}:after, .swiper-rtl .next_${article_id}:after {
        content: '<';
    }
    .next_${article_id}:after, .swiper-rtl .prev_${article_id}:after {
        content: '>';
    }

    .botones-slider .prev_${article_id}::after,
    .botones-slider .next_${article_id}::after {
        color: #000;
        width: 100px;
        text-align: center;
        background-color: #fff;
        border: 1px solid #E1E3E9;
        padding: 10px 20px;
        font-size: 25px;
    }

    .botones-slider .prev_${article_id}::after {
        border-top-left-radius: 6px;
        border-bottom-left-radius: 6px;
    }

    .botones-slider .next_${article_id}::after {
        border-top-right-radius: 6px;
        border-bottom-right-radius: 6px;
    }
    --> 


    

    @media only screen and (min-width: 1280px) { }
    @media only screen and (min-width: 992px) { }
    @media only screen and (min-width: 768px) { }
    @media only screen and (max-width: 600px){
        .principal-row .content {
            padding: 5%;
        }
    }
</style>